{% extends "bootstrap/base.html" %}

{% block title %}旅游行程宝{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .list-group-item-separate {
            margin-bottom: 8px;
        }
        html,body{
                height: 100%;
                margin: 0;
                padding: 0;
                overflow-y: hidden;
        }
    </style>
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script type="application/javascript" src="../static/dataapi.js"></script>
    <script>
        function do_itemAcitve(item) {
            $('#listDays a').removeClass('active');
            $('#tabContent div').removeClass('active');
            $(item).addClass('active');
            tabId = $(item).attr("tabId")
            $("#"+tabId).addClass('active');
        }

        function do_addDay(proId) {
            len = $("#listDays a").length+1;
            data = {"daynum":len,"proId":proId}
            var url = "/do_addDay";
            $.post(url,data,function(data){
                id = data["id"];
                if(id>0){
                    strElement = data["list-day"];
                    $('#listDays a').removeClass('active');
                    $("#listDays").append(strElement);

                    strElement = data["list-day-tab"];
                    $('#tabContent div').removeClass('active');
                    $("#tabContent").append(strElement);
                }else{
                    alert("删除失败");
                }
            });



        }

        function do_delDay(dayId) {
            data = {"dayId":dayId}
            var url = "/do_delDay";
            $.post(url,data,function(reslut){
                if(reslut>=0){
                    $("#day"+dayId).remove();
                    $("#tab"+dayId).remove();
                }
                else{
                    alert("删除失败");
                }
            });
        }

        function get_activeDayID() {
            dayId =  $("#tabContent .tab-pane.active:first").attr("value");
            return dayId;
        }

        function do_addPoint(tempPointId) {
            dayID = get_activeDayID();
            pName = $("#"+tempPointId+" h4.list-group-item-heading:first").text();
            pDec = $("#"+tempPointId+" p.list-group-item-text:first").text();
            data = {"dayId":dayID, "name":pName, "event": pDec}
            var url = "/do_addPoint";
            $.post(url,data,function(repData){
                pointId = repData["id"];
                if(pointId<=0){
                    alert("添加失败");
                    return;
                }
                strElement =  repData["list-Point"];
                $("#tabContent .tab-pane.active:first > div.list-group:first").append(strElement);
            });
        }

        function do_delPoint(itemid) {
            pointId = $("#"+itemid).attr("value");
            data = {"pointId":pointId}
            var url = "/do_delPoint";
            $.post(url,data,function(reslut){
                if(reslut<=0){
                    alert("删除失败");
                    return;
                }
                $("#"+itemid).remove();
            });
        }

        function do_showPointDec(decId) {
            if($("#"+decId).is(':hidden')){
                $("#"+decId).show();
            }else{
                $("#"+decId).hide();
            }
        }

        function do_editPoint(pointId) {
            itemPoint = $("#itemPoint"+pointId);
            nowPointID=pointId;
            var ptype=itemPoint.attr("ptype");
            //alert("t2 "+ptype);
            if(ptype=="自定义-交通")
            {
                //交通方式-
                //-lzh调试-错误
                $("#pointBigTLTab>li").each(function(){
                    $(this).removeClass("active");
                });
                 //-lzh调试-错误
                nowJTFS=itemPoint.attr("ptptrainsp");
                nowZDYtype="自定义-交通";
                var id="BigLtlibs";
                if(nowJTFS=="火车"){
                     id="BigLtlihc";
                }
                if(nowJTFS=="飞机"){
                      id="BigLtlifj";
                }
                if(nowJTFS=="巴士"){
                     id="BigLtlibs";
                }
                if(nowJTFS=="的士"){
                    id="BigLtlids";
                }
                $("#"+id).addClass("active");
                //交通方式
                nowBigLTMDType="edit";
                $("#editJDTrafficModal1").is(':hidden')
                if($("#editJDTrafficModal1").is(':hidden')){
                    $("#editJDTrafficModal1").modal('show');
                }else{
                    $("#editJDTrafficModal1").modal('hide');
                }
                 $("#editJDTrafficModal1 input[name='stratt']").val(itemPoint.attr("pstratt"));
                 $("#editJDTrafficModal1 input[name='stratc']").val(itemPoint.attr("pstratc"));
                 $("#editJDTrafficModal1 input[name='stratp']").val(itemPoint.attr("pstratp"));
                 $("#editJDTrafficModal1 input[name='endc']").val(itemPoint.attr("pendc"));
                 $("#editJDTrafficModal1 input[name='endt']").val(itemPoint.attr("pendt"));
                 $("#editJDTrafficModal1 input[name='endp']").val(itemPoint.attr("pendp"));
                 $("#editJDTrafficModal1 input[name='tptrain']").val(itemPoint.attr("ptptrain"));
                 $("#editJDTrafficModal1 textarea[name='tptrainevent']").val(itemPoint.attr("ptptrainevent"));
                 $("#editJDTrafficModal1 input[name='tptrainsp']").val(itemPoint.attr("ptptrainsp"));
            }
            else
            {
                itemPointName = $("#itemPointName"+pointId);
                itemPointDec = $("#itemPointDec"+pointId);
                modalEditPointOrDay = $("#modalEditPointOrDay");
                $("#modalEditPointOrDay input[id='txtName']:first").val(itemPointName.text());
                $("#modalEditPointOrDay textarea[id='areaEvent']:first").val(itemPointDec.text());
                $("#modalEditPointOrDay button[id='btnSubmit']:first").one("click",function(){
                    var url = "/do_editPoint";
                    var params = $("#formEditPointOrDay").serializeArray();
                    var data = {};
                    data['id'] =pointId;
                    for( x in params ){
                        data[params[x].name] = params[x].value;
                    }
                    $.post(url,data,function(result){
                        if (result <= 0){
                           alert("修改失败");
                        } else {
                            itemPointName.text(data["name"]);
                            itemPointDec.text(data["event"]);
                            if(modalEditPointOrDay.is(':hidden')){
                                modalEditPointOrDay.modal('show');
                            }else{
                                modalEditPointOrDay.modal('hide');
                            }
                        }
                    });
                });
                modalEditPointOrDay.modal('show');
            }

        }

        function do_editDay(dayId){
            tabDayHeader = $("#tabDayHeader"+dayId);
            dayname = tabDayHeader.attr("dayname");

            tabDayDec = $("#tabDayDec"+dayId);
            modalEditPointOrDay = $("#modalEditPointOrDay");
            $("#modalEditPointOrDay input[id='txtName']:first").val(dayname);
            $("#modalEditPointOrDay textarea[id='areaEvent']:first").val(tabDayDec.text());
            $("#modalEditPointOrDay button[id='btnSubmit']:first").one("click",function(){
                var url = "/do_editDay";
                var params = $("#formEditPointOrDay").serializeArray();
                var data = {};
                for( x in params ){
                    data[params[x].name] = params[x].value;
                }
                data['id'] = dayId;
                data['dayevent'] = data['event'];
                $.post(url,data,function(result){
                    if (result <= 0){
                       alert("修改失败");
                    } else {
                        strHeader = tabDayHeader.text();
                        strHeader = strHeader.replace(dayname,data["name"]);
                        tabDayHeader.text(strHeader);
                        tabDayDec.text(data["event"]);
                        if(modalEditPointOrDay.is(':hidden')){
                            modalEditPointOrDay.modal('show');
                        }else{
                            modalEditPointOrDay.modal('hide');
                        }
                    }
                });
            });
            modalEditPointOrDay.modal('show');
        }

        var nowPointID;
        var nowJTFS="巴士";
        var nowZDYtype="";
        var nowBigLTMDType="add";
       // var nowZDYJTType="add";
        function do_PointTLSL(JTFS){
            nowJTFS=JTFS;
            //alert(nowJTFS);
        }

        function do_eidtPointJT(itemid){
            //alert("t1 "+itemid);
            nowPointID =itemid;
            var itemPoint = $("#itemPoint"+nowPointID);
            //交通方式-
            //-lzh调试-错误
            $("#pointTLTab").children().each(function(){
                $(this).removeClass("active");
            });
             //-lzh调试-错误

            nowJTFS=itemPoint.attr("ptransport");
            var id="BigLtlibs";
            if(nowJTFS=="火车"){
                 id="smLtlihc";
            }
            if(nowJTFS=="地铁"){
                  id="smLtlidt";
            }
            if(nowJTFS=="巴士"){
                 id="smLtlibs";
            }
            if(nowJTFS=="的士"){
                id="smLtlids";
            }
            $("#"+id).addClass("active");
            $("#formPointTLTexttrtime").val(itemPoint.attr("ptrtime"));
            $("#formPointTLTextAreatrevent").val(itemPoint.attr("ptrevent"));
            $("#formPointTLTexttrdistance").val(itemPoint.attr("ptrdistance"));
        }

         function do_ZDYtype(item){
            $("#editZDYModal input").val('');
            $("#editZDYModal textarea").val('');
            nowZDYtype =item;

        }
         function do_ZDYtypeJT(item){
             $("#editJDTrafficModal1 input[name='stratt']").val('');
             $("#editJDTrafficModal1 input[name='stratc']").val('');
             $("#editJDTrafficModal1 input[name='stratp']").val('');
             $("#editJDTrafficModal1 input[name='endc']").val('');
             $("#editJDTrafficModal1 input[name='endt']").val('');
             $("#editJDTrafficModal1 input[name='endp']").val('');
             $("#editJDTrafficModal1 input[name='tptrain']").val('');
             $("#editJDTrafficModal1 textarea[name='tptrainevent']").val('');
             $("#editJDTrafficModal1 input[name='tptrainsp']").val('');
            nowZDYtype =item;
        }

        function do_savePointTL() {
            var itemPoint = $("#itemPoint"+nowPointID);
            var url = "/do_editPoint";
            var params = $("#formPointTL").serializeArray();
            var data = {};
            data['id'] =nowPointID;
            data['transport'] =nowJTFS;
            for( x in params ){
                data[params[x].name] = params[x].value;
             }
            $.post(url,data,function(result){
               if (result <= 0){
                   alert("修改失败");
               } else {
                   itemPoint.attr("ptrtime",data['trtime']);
                   itemPoint.attr("ptransport",data['transport']);
                   itemPoint.attr("ptrdistance",data['trdistance']);
                   itemPoint.attr("ptrevent",data['trevent']);
                   $("#itemptrtime"+nowPointID).empty();
                   $("#itemptrtime"+nowPointID).append(data['trtime']);
                   $("#itemptransport"+nowPointID).empty();
                   $("#itemptransport"+nowPointID).append(data['transport']);
                   $("#itemptrdistance"+nowPointID).empty();
                   $("#itemptrdistance"+nowPointID).append(data['trdistance']);
                   $("#itemptrevent"+nowPointID).empty();
                   $("#itemptrevent"+nowPointID).append(data['trevent']);
                   if($("#editTrafficModal").is(':hidden')){
                        $("#editTrafficModal").modal('show');
                    }else{
                        $("#editTrafficModal").modal('hide');
                    }
               }
            });
        }

        function do_saveBigPointTL() {
            var params = $("#formBigPointTL").serializeArray();
            var data = {};
            data['dayId'] =get_activeDayID();
            data['tptrainsp'] =nowJTFS;
            data['type'] =nowZDYtype;
            //alert("t1 "+nowBigLTMDType);
            for( x in params ){
                data[params[x].name] = params[x].value;
             }
            data['name'] = data['stratc']+"-"+data['endc'];
            data['event'] = "出发时间:"+data['stratt']+"，从"+data['stratc']+data['stratp']+"，乘坐班次"+data['tptrain']+" "+data['tptrainsp']+"，于"+data['endt']+"到达"+data['endc']+data['endp'];
            if(nowBigLTMDType=="add"){
                var url = "/do_addPoint";
                $.post(url,data,function(repData){
                    pointId = repData["id"];
                    if(pointId<=0){
                        alert("添加失败");
                        return;
                    }
                    strElement =  repData["list-Point"];
                    $("#tabContent .tab-pane.active:first > div.list-group:first").append(strElement);
                    if($("#editJDTrafficModal1").is(':hidden')){
                        $("#editJDTrafficModal1").modal('show');
                    }else{
                        $("#editJDTrafficModal1").modal('hide');
                    }
                });
            }
            if(nowBigLTMDType=="edit"){
                data['id'] =nowPointID;
                var url = "/do_editPoint";
                $.post(url,data,function(repData){
                    pointId = repData["id"];
                    if(pointId<=0){
                        alert("添加失败");
                        return;
                    }
                    else{
                        var itemPoint = $("#itemPoint"+nowPointID);
                        var itemPointName = $("#itemPointName"+nowPointID);
                        var itemPointDec = $("#itemPointDec"+nowPointID);
                        itemPointName.empty();
                        itemPointName.append(data['name']);
                        itemPointDec.empty();
                        itemPointDec.append(data['event'] );
                        itemPoint.attr("pstratt",data['stratt']);
                        itemPoint.attr("pstratc",data['stratc']);
                        itemPoint.attr("pstratp",data['stratp']);
                        itemPoint.attr("pendc",data['endc']);
                        itemPoint.attr("pendt",data['endt']);
                        itemPoint.attr("pendp",data['endp']);
                        itemPoint.attr("ptptrain",data['tptrain']);
                        itemPoint.attr("ptptrainevent",data['tptrainevent']);
                        itemPoint.attr("ptptrainsp",data['tptrainsp']);
                        itemPoint.attr("ptrdistance",data['trdistance']);
                        if($("#editJDTrafficModal1").is(':hidden')){
                            $("#editJDTrafficModal1").modal('show');
                        }else{
                            $("#editJDTrafficModal1").modal('hide');
                        }
                    }
                });
            }
        }

        function do_saveZXDTL() {
            var url = "/do_addPoint";
            var params = $("#formZDYTL").serializeArray();
            var data = {};
            data['dayId'] =get_activeDayID();
            data['type'] =nowZDYtype;
            for( x in params ){
                data[params[x].name] = params[x].value;
             }
            $.post(url,data,function(repData){
                pointId = repData["id"];
                if(pointId<=0){
                    alert("添加失败");
                    return;
                }
                strElement =  repData["list-Point"];
                $("#tabContent .tab-pane.active:first > div.list-group:first").append(strElement);
                if($("#editZDYModal").is(':hidden')){
                    $("#editZDYModal").modal('show');
                }else{
                    $("#editZDYModal").modal('hide');
                }
            });
        }


    </script>
{% endblock %}

{% block navbar %}
{#    <div class="container-fluid" >#}
        <div class="navbar navbar-fixed-top navbar-inverse" role="navigation" >
            <div class="navbar-header">
                <a class="navbar-brand" href="#">自助游行程宝</a>
            </div>
            <ul class="nav navbar-nav">
                <li id="liViewTravel" ><a href="/view" ><span class="glyphicon glyphicon-tags"></span> 我的行程</a></li>
            </ul>
        </div>
{#    </div>#}
{% endblock %}

{% block content %}
    <div class="container-fluid"  style="padding-top: 45px;padding-bottom:5px;height: 100%;">
        <div id="createTravel" class="row" style="padding-left: 5px;padding-top: 5px;height: 100%">
            <div class="col-xs-6 col-md-6" style="padding-top: 10px;padding-left: 0px;padding-right: 5px;height: 100%;">
                <div class="panel panel-default " style="height: 100%;" >
                    <div class="panel-heading" style="padding: 0px;height: 51px;">
                        <div class="navbar navbar-default" role="navigation" style="margin-bottom: 0px;border: 0px;">
                            <div class="navbar-header">
                                <a class="navbar-brand" data-toggle="dropdown" href="#">城市</a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="#">功能撒大声地是速度速度速度速度是多岁的撒大声地所颠三倒四撒大声地是撒大声地速度速度速度是</a></li>
                                    <li><a href="#">另一个功能</a></li>
                                    <li><a href="#">其他</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#">分离的链接</a></li>
                                </ul>
                            </div>
                            <ul class="nav navbar-nav">
                                <li class="active"  id="dataapinavJD" onclick="pointclick()"><a  href="#camera"><span class="glyphicon glyphicon-camera"></span> 景点</a></li>
                                <li   id="dataapinavHotel"  onclick="hotelclick()"><a href="#support"><span class="glyphicon glyphicon-home"></span> 酒店</a></li>
                                <form class="navbar-form navbar-left" role="search">
                                    <div class="input-group">
                                      <input id="apitxtin" type="text" class="form-control" placeholder="输入查询内容">
                                      <span class="input-group-btn">
                                        <button class="btn btn-default" type="button">查询</button>
                                      </span>
                                    </div>
                                </form>
                            </ul>
                        </div>
                    </div>
                    <div id="dipIn" class="list-group" style="padding-left: 0px;padding-right: 0px;overflow-y:auto;max-height: 90%;">
                    </div>
                    <div id="dipFYIn" style="text-align:right;" ></div>
                </div>
            </div>
            <div class="col-xs-6  col-md-6 " style="padding-top: 10px;padding-left: 0px;padding-right: 5px;height: 100%;" >
                <div class="panel panel-default " style="height: 100%;" >
                    <div class="panel-heading" style="padding: 0px;height: 51px;">
                        <span class="btn " style="margin: 8px;font-size: 14px;font-weight: bold;"  >{{ lyproject.name }}</span>
                        <button type="button" class="btn btn-default" style="margin: 8px;float: right;" data-toggle="modal" > 完成查看 </button>
                    </div>
                    <div style="padding: 0px;height: 100%;">
                        <div class="col-xs-4 col-md-2" style="padding: 0px;height: 100%;border-right: 1px solid #ddd;" >
                            <ul id="listDays" class='list-group list-group-flush' style="padding: 5px;margin-bottom:10px;overflow-y:auto;max-height: 90%;" >
                                {% for itemDay in lyday %}
                                    {% with day_active = "active" %}
                                        {% if not loop.first %}
                                            {% set day_active = "" %}
                                        {% endif %}
                                        {% set day_str = "  第"+loop.index|string+"天" %}
                                        {% include 'list-day.html' %}
                                    {% endwith %}
                                {% endfor %}
                            </ul>
                            <span type="button" class="btn btn-default center-block" style="margin: 5px;" onclick="do_addDay({{ proId }})"> 加一天 </span>
                        </div>
                        <div class="col-xs-8 col-md-10" style="padding-left: 5px;padding-right: 0px;height: 100%;">
                            <div id="tabContent" class='tab-content' style="overflow-y:auto;max-height: 90%;">
                                {% for itemDay in lyday %}
                                    {% with day_active = "active" %}
                                        {% if not loop.first %}
                                            {% set day_active = "" %}
                                        {% endif %}
                                        {% set day_str = "  第"+loop.index|string+"天" %}
                                        {% include 'list-day-tab.html' %}
                                    {% endwith %}
                                {% endfor %}
                            </div>
                            <p style="margin-left: 15px;margin-top: 10px;">添加自定义
                                <a href="javascript:;" data-toggle="modal" data-target="#editZDYModal" onclick="do_ZDYtype('自定义-景点')">景点</a>、
                                <a data-toggle="modal" data-target="#editZDYModal" onclick="do_ZDYtype('自定义-餐馆')">餐馆</a>、
                                <a data-toggle="modal"  data-target="#editJDTrafficModal1" onclick="do_ZDYtypeJT('自定义-交通')">交通</a>、
                                <a data-toggle="modal" data-target="#editZDYModal" onclick="do_ZDYtype('自定义-酒店')">酒店</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalEditPointOrDay" tabindex="-1" role="dialog" aria-labelledby="lblEditPoint" aria-hidden="true" >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times; </button>
                    <h4 class="modal-title" id="lblEditPoint">编辑</h4>
                </div>
                <div class="modal-body">
                    <form id="formEditPointOrDay" class="bs-example bs-example-form" role="form">
                        <div class="input-group ">
                            <span class="input-group-addon">名称</span>
                            <input id="txtName" type="text" required="true" class="form-control" name="name" placeholder="输入名称">
                        </div>
                        <span class="help-block"></span>
                        <div class="input-group">
                            <span class="input-group-addon">备注</span>
                            <textarea id="areaEvent" rows="3" class="form-control" name="event" placeholder="输入备注"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button id="btnSubmit" type="button" class="btn btn-primary"  >提交更改</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editTrafficModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
        <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times; </button>
                <h4 class="modal-title" id="myModalLabel">编辑交通</h4>
              </div>
              <div class="modal-body">
                       <ul id="pointTLTab" class="nav nav-tabs">
                            <li   id="smLtlibs" class="active"  onclick="do_PointTLSL('巴士')"><a href="#TRbs" data-toggle="tab" name="巴士" ><img src="../static/img/bs.png" height="30" width="30"/></a></li>
                            <li   id="smLtlids"  onclick="do_PointTLSL('的士')"><a href="#TRds" data-toggle="tab" name="的士" > <img src="../static/img/ds.png" height="30" width="30"/></a></li>
                            <li   id="smLtlihc"  onclick="do_PointTLSL('火车')"><a href="#TRhc" data-toggle="tab" name="火车" > <img src="../static/img/hc.png" height="30" width="30"/></a></li>
                            <li   id="smLtlidt"  onclick="do_PointTLSL('地铁')"><a href="#TRdt" data-toggle="tab" name="地铁" > <img src="../static/img/dt.png" height="30" width="30"/></a></li>
                        </ul>
                          <form id="formPointTL" class="bs-example bs-example-form" role="form">
                                <div class="input-group ">
                                    <span class="input-group-addon">交通时间</span>
                                    <input id="formPointTLTexttrtime" type="text" required="true" class="form-control" name="trtime">
                                </div>
                                <div class="input-group ">
                                    <span class="input-group-addon">交通距离</span>
                                    <input id="formPointTLTexttrdistance" type="text" required="true" class="form-control" name="trdistance">
                                </div>
                                    <span class="help-block"></span>
                                <div class="input-group">
                                    <span class="input-group-addon">交通备注</span>
                                        <textarea id="formPointTLTextAreatrevent" rows="3" class="form-control" name="trevent" ></textarea>
                                </div>
                           </form>
              </div>
                 <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" onclick="do_savePointTL()" >提交更改</button>
                </div>
              </div>
          </div>
        </div>

    <div class="modal fade" id="editZDYModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times; </button>
                    <h4 class="modal-title" id="myZDYModalLabel">编辑</h4>
                </div>
                <div class="modal-body">
                    <form id="formZDYTL" class="bs-example bs-example-form" role="form">
                        <div class="input-group ">
                            <span class="input-group-addon">名称</span>
                            <input id="formPointTLText" type="text" required="true" class="form-control" name="name" placeholder="输入名称">
                        </div>
                        <span class="help-block"></span>
                        <div class="input-group">
                            <span class="input-group-addon">备注</span>
                            <textarea id="formPointTLTextArea" rows="3" class="form-control" name="event" placeholder="输入备注"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" onclick="do_saveZXDTL()" >提交更改</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editJDTrafficModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
        <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> &times; </button>
                <h4 class="modal-title" id="myModalLabel">编辑城际交通</h4>
              </div>
              <div class="modal-body">
                     <ul id="pointBigTLTab" class="nav nav-tabs">
                        <li  class="active" id="BigLtlibs"  onclick="do_PointTLSL('巴士')"><a href="#TRbs" data-toggle="tab" name="巴士" ><img src="../static/img/bs.png" height="30" width="30"/></a></li>
                        <li  id="BigLtlids" onclick="do_PointTLSL('的士')"><a href="#TRds" data-toggle="tab" name="的士" > <img src="../static/img/ds.png" height="30" width="30"/></a></li>
                        <li  id="BigLtlihc" onclick="do_PointTLSL('火车')"><a href="#TRhc" data-toggle="tab" name="火车" > <img src="../static/img/hc.png" height="30" width="30"/></a></li>
                        <li id="BigLtlifj" onclick="do_PointTLSL('飞机')"><a href="#TRdt" data-toggle="tab" name="飞机" > <img src="../static/img/fj.png" height="30" width="30"/></a></li>
                    </ul>
                      <form id="formBigPointTL" class="bs-example bs-example-form" role="form">
                            <table style="width:100%;height:100%;border-spacing:10px;cellspacing:10px" >
                            <tr>
                                <td>出发城市</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="stratc" placeholder="输入出发城市"></td>
                                <td>到达城市</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="endc" placeholder="输入到达城市"></td>
                            </tr>
                            <tr>
                                <td>出发站点</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="stratp" placeholder="输入出发站点"></td>
                                <td>到达站点</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="endp" placeholder="输入到达站点"></td>
                            </tr>
                            <tr>
                                <td>出发时间</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="stratt" placeholder="输入出发时间"></td>
                                <td>到达时间</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="endt" placeholder="输入到达时间"></td>
                            </tr>
                             <tr>
                                 <td>车次</td>
                                <td><input id="formPointTLText" type="text" required="true" class="form-control" name="tptrain" placeholder="输入车次"></td>
                            </tr>
                            </table>
                                <span class="input-group-addon">交通备注</span>
                                <textarea id="formPointTLTextAreabigtptrainevent" rows="3" class="form-control" name="tptrainevent" placeholder="输入交通备注"></textarea>
                       </form>
              </div>
                 <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" onclick="do_saveBigPointTL()" >提交更改</button>
                </div>
              </div>
          </div>
        </div>

{% endblock %}